{"version":3,"sources":["signalwerk.js"],"names":["$","fn","serializeObject","o","a","serializeArray","each","name","undefined","push","value","squirrel","clear_on_submit","storage_key","is","show","hide","change","e","attr","removeAttr","validate","rules","required","email","depends","element","messages","submitHandler","form","ajax","type","url","data","success","msg","window","location","href","error","returnval"],"mappings":"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","file":"signalwerk.js","sourcesContent":["// http://stackoverflow.com/questions/1184624/convert-form-data-to-js-object-with-jquery\n$.fn.serializeObject = function() {\n  var o = {};\n  var a = this.serializeArray();\n  $.each(a, function() {\n    if (o[this.name] !== undefined) {\n      if (!o[this.name].push) {\n        o[this.name] = [o[this.name]];\n      }\n      o[this.name].push(this.value || '');\n    } else {\n      o[this.name] = this.value || '';\n    }\n  });\n  return o;\n};\n\n// Wait for the DOM to be ready\n$(function() {\n\n  // form restore\n  $('#contact-form').squirrel('init', {\n    clear_on_submit: false,\n    storage_key: \"squirrel\"\n  });\n\n  if ($('input[name=\"--contact-form[bill_separate]\"]').is(':checked')) {\n    $(\".contact-form-bill\").show();\n  } else {\n    $(\".contact-form-bill\").hide();\n  }\n  $('input[name=\"--contact-form[bill_separate]\"]').change(function(e) {\n\n    if ($(this).is(':checked')) {\n      $(\".contact-form-bill\").show();\n      $(this).attr(\"checked\", \"checked\");\n    } else {\n      $(\".contact-form-bill\").hide();\n      $(this).removeAttr(\"checked\");\n    }\n  });\n\n  if ($('input[name=\"--contact-form[ausbildung]\"]').is(':checked')) {\n    $(\".contact-form-onSfGZ-group\").show();\n  } else {\n    $(\".contact-form-onSfGZ-group\").hide();\n  }\n  $('input[name=\"--contact-form[ausbildung]\"]').change(function(e) {\n\n    if ($(this).is(':checked')) {\n      $(\".contact-form-onSfGZ-group\").show();\n      $(this).attr(\"checked\", \"checked\");\n    } else {\n      $(\".contact-form-onSfGZ-group\").hide();\n      $(this).removeAttr(\"checked\");\n    }\n  });\n\n  // Initialize form validation on the registration form.\n  // It has the name attribute \"registration\"\n  $(\"#contact-form\").validate({\n    // Specify validation rules\n    rules: {\n      // The key name on the left side is the name attribute\n      // of an input field. Validation rules are defined\n      // on the right side\n      '--contact-form[anrede]': \"required\",\n      '--contact-form[Name]': \"required\",\n      '--contact-form[Vorname]': \"required\",\n      '--contact-form[Strasse]': \"required\",\n      '--contact-form[Postleitzahl]': \"required\",\n      '--contact-form[Ort]': \"required\",\n      '--contact-form[E-Mail]': {\n        required: true,\n        // Specify that email should be validated\n        // by the built-in \"email\" rule\n        email: true\n      },\n      '--contact-form[Geburtsdatum]': \"required\",\n      '--contact-form[Berufstatigkeit]': \"required\",\n\n      '--contact-form[bill_Strasse]': {\n        required: {\n          depends: function(element) {\n            return $(\"#contact-form-bill-separate\").is(\":checked\");\n          }\n        }\n      },\n      '--contact-form[bill_Postleitzahl]': {\n        required: {\n          depends: function(element) {\n            return $(\"#contact-form-bill-separate\").is(\":checked\");\n          }\n        }\n      },\n      '--contact-form[bill_Ort]': {\n        required: {\n          depends: function(element) {\n            return $(\"#contact-form-bill-separate\").is(\":checked\");\n          }\n        }\n      },\n      '--contact-form[onSfGZ]': {\n        required: {\n          depends: function(element) {\n            return $(\"#contact-form-ausbildung\").is(\":checked\");\n          }\n        }\n      },\n      '--contact-form[agb]': \"required\",\n\n\n    },\n    // Specify validation error messages\n    messages: {\n      '--contact-form[anrede]': \"Bitte ausfüllen.\",\n      '--contact-form[Name]': \"Bitte ausfüllen.\",\n      '--contact-form[Vorname]': \"Bitte ausfüllen.\",\n      '--contact-form[Strasse]': \"Bitte ausfüllen.\",\n      '--contact-form[Postleitzahl]': \"Bitte ausfüllen.\",\n      '--contact-form[Ort]': \"Bitte ausfüllen.\",\n      '--contact-form[E-Mail]': \"Bitte ausfüllen.\",\n      '--contact-form[Geburtsdatum]': \"Bitte ausfüllen.\",\n      '--contact-form[Berufstatigkeit]': \"Bitte ausfüllen.\",\n      '--contact-form[bill_Strasse]': \"Bitte ausfüllen.\",\n      '--contact-form[bill_Postleitzahl]': \"Bitte ausfüllen.\",\n      '--contact-form[bill_Ort]': \"Bitte ausfüllen.\",\n      '--contact-form[onSfGZ]': \"Bitte Ausbildungsart wählen.\",\n      '--contact-form[agb]': \"Sie müssen die allgemeinen Geschäftsbedingungen akzeptieren\",\n    },\n    // Make sure the form is submitted to the destination defined\n    // in the \"action\" attribute of the form when valid\n    submitHandler: function(form) {\n      $.ajax({\n        type: \"POST\",\n        url: \"//beta.sfgz.ch/signalwerk/course/enroll\",\n        data: {\n          'data': $('.form-control').serializeObject()\n        },\n        success: function(msg) {\n          window.location.href = './anmeldung/danke.html';\n        },\n        error: function(returnval) {\n          window.location.href = './anmeldung/danke.html';\n          // window.location.href = './anmeldung/error.html';\n        }\n      });\n    }\n  });\n});\n"]}