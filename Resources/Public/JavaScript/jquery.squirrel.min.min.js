"use strict";!function(e,t){function r(r,i,n,a){var s=e.JSON.parse(r.getItem(i));if(null===s&&(s={}),o(a)||null===a)return o(s[n])?null:s[n];var u={};return u[n]=a,t.extend(s,u),r.setItem(i,e.JSON.stringify(s)),a}function i(e,t){e.removeItem(t)}function n(e){return"boolean"===t.type(e)}function a(e){return"object"===t.type(e)}function s(e){return"string"===t.type(e)&&t.trim(e).length>0}function o(e){return void 0===e}function u(e,t){return s(e)?e:t}t.fn.extend({squirrel:function(h,d){d=t.extend({},t.fn.squirrel.options,d),d.clearOnSubmit=d.clear_on_submit,d.storageMethod=d.storage_method,d.storageKey=d.storage_key,d.storageKeyPrefix=d.storage_key_prefix;var p=null;if(s(d.storageMethod)?p="LOCAL"===d.storageMethod.toUpperCase()?e.localStorage:e.sessionStorage:null!==d.storageMethod&&a(d.storageMethod)&&(p=d.storageMethod),null===p||!(a(p)&&"getItem"in p&&"removeItem"in p&&"setItem"in p))return this;h=s(h)&&g.test(h)?h.toUpperCase():"START";var m="input[type!=file]:not(.squirrel-ignore), select:not(.squirrel-ignore), textarea:not(.squirrel-ignore)",y="button[type=reset], input[type=reset]";return d.storageKey=u(d.storageKey,"squirrel"),d.storageKeyPrefix=u(d.storageKeyPrefix,""),this.each(function(){var e=t(this),a=e.attr("data-squirrel"),u=d.storageKeyPrefix+(s(a)?a:d.storageKey);switch(h){case"CLEAR":case"REMOVE":i(p,u);break;case"OFF":case"STOP":e.find(m).off(c),e.find(y).off(l),e.off(f);break;default:e.find("*").filter("input[id], input[name], select[id], select[name], textarea[id], textarea[name]").each(function(){var i=t(this),n=i.attr("name");if(o(n)&&(n=i.attr("id"),o(n)))return e;var a=null;switch(this.tagName){case"INPUT":case"TEXTAREA":var l=i.attr("type");if("checkbox"===l){var c=i.attr("value");s(c)||(c=""),null!==(a=r(p,u,n+c))&&a!==this.checked&&(this.checked=!0===a,i.trigger("change"))}else"radio"===l?null!==(a=r(p,u,n))&&a!==this.checked&&(this.checked=i.val()===a,i.trigger("change")):null!==(a=r(p,u,n))&&!i.is("[readonly]")&&i.is(":enabled")&&i.val()!==a&&i.val(a).trigger("change");break;case"SELECT":null!==(a=r(p,u,n))&&t.each(t.isArray(a)?a:[a],function(e,r){i.find("option").filter(function(){var e=t(this);return e.val()===r||e.html()===r}).prop("selected",!0).trigger("change")})}}),e.find(m).on(c,function(){var e=t(this),i=e.attr("name");if(!o(i)||(i=e.attr("id"),!o(i))){var n=e.attr("value"),a="checkbox"!==this.type||o(n)?i:i+n;r(p,u,a,"checkbox"===this.type?e.prop("checked"):e.val())}}),e.find(y).on(l,function(){i(p,u)}),e.on(f,function(){(!n(d.clearOnSubmit)||d.clearOnSubmit)&&i(p,u)})}})}});var l="click.squirrel.js",c="blur.squirrel.js keyup.squirrel.js change.squirrel.js",f="submit.squirrel.js",g=/^(?:CLEAR|REMOVE|OFF|STOP)$/i;t.fn.squirrel.options={clear_on_submit:!0,storage_method:"session",storage_key:"squirrel",storage_key_prefix:""},t(function(){t("form.squirrel, form[data-squirrel]").squirrel()})}(window,window.jQuery);