{"version":3,"sources":["filterview.js"],"names":["$","submit","event","submitBtn","addClass","cat","each","index","val","push","ajax","url","data","nodeName","join","filterTxt","done","response","html","children","unwrap","fail","console","log","always","removeClass"],"mappings":";;AAAA;AACAA,EAAE,YAAW;;AAEX;AACAA,IAAE,cAAF,EAAkBC,MAAlB,CAAyB,UAAUC,KAAV,EAAkB;;AAEvC,QAAIC,YAAYH,EAAE,qBAAF,CAAhB;AACA;AACA;AACAG,cAAUC,QAAV,CAAmB,mBAAnB;;AAGA;AACA;AACA;;AAEAJ,MAAE,WAAF,EAAeI,QAAf,CAAwB,QAAxB;;AAEA,QAAIC,MAAM,EAAV;AACAL,MAAE,YAAF,EAAgBM,IAAhB,CAAqB,UAAUC,KAAV,EAAkB;AACrC,UAAIC,MAAMR,EAAE,IAAF,EAAQQ,GAAR,EAAV;AACA;AACA,UAAIA,QAAQ,GAAZ,EAAiB;AACfH,YAAII,IAAJ,CAASD,GAAT;AACD;AACF,KAND;;AAQA;AACA;AACAR,MAAEU,IAAF,CAAO;AACLC,WAAK,GADA;AAELC,YAAM;AACJC,kBAAUb,EAAE,YAAF,EAAgBY,IAAhB,CAAqB,MAArB,CADN;AAEJP,aAAKA,IAAIS,IAAJ,CAAS,GAAT,CAFD;AAGJC,mBAAWf,EAAE,kBAAF,EAAsBQ,GAAtB,MAA+B,EAHtC,CAG0C;AAH1C;AAFD,KAAP,EAQGQ,IARH,CAQQ,UAAUC,QAAV,EAAqB;AACzB;AACAjB,QAAE,YAAF,EAAgBkB,IAAhB,CAAqBD,QAArB,EAA+BE,QAA/B,GAA0CA,QAA1C,GAAqDC,MAArD;AACD,KAXH,EAYGC,IAZH,CAYQ,YAAW;AACfC,cAAQC,GAAR,CAAa,OAAb;AACD,KAdH,EAeGC,MAfH,CAeU,YAAW;AACjB;AACArB,gBAAUsB,WAAV,CAAsB,mBAAtB;AACD,KAlBH;;AAoBA,WAAO,KAAP;AAED,GA/CH;AAgDD,CAnDD","file":"filterview.js","sourcesContent":["// Wait for the DOM to be ready\n$(function() {\n\n  // form restore\n  $('#filter-form').submit(function( event ) {\n\n      var submitBtn = $(\"#filter-form-submit\");\n      // submitBtn.attr('disabled', 'disabled');\n      // console.log('submitBtn', submitBtn);\n      submitBtn.addClass('button-submitting');\n\n\n      // $('radio').bind('click', function() {\n      //     $(this).removeAttr('checked');\n      // });\n\n      $('.noResult').addClass('hidden');\n\n      let cat = [];\n      $('.filterCat').each(function( index ) {\n        let val = $(this).val();\n        // let val = $('input[name='+ $( this ).attr('name') + ']:checked').val();\n        if (val !== '*') {\n          cat.push(val);\n        }\n      });\n\n      // Assign handlers immediately after making the request,\n      // and remember the jqXHR object for this request\n      $.ajax({\n        url: '/',\n        data: {\n          nodeName: $('.ajax-list').data('list'),\n          cat: cat.join(','),\n          filterTxt: $('input[name=text]').val() || '', // text\n        },\n      })\n        .done(function( response ) {\n          // .unwrap()\n          $('.ajax-list').html(response).children().children().unwrap();\n        })\n        .fail(function() {\n          console.log( \"error\" );\n        })\n        .always(function() {\n          // console.log( \"complete\" );\n          submitBtn.removeClass('button-submitting');\n        });\n\n      return false;\n\n    });\n});\n"]}