{"version":3,"sources":["filterview.js"],"names":["$","submit","event","submitBtn","addClass","bind","removeAttr","cat","each","index","val","attr","push","console","log","join","data","ajax","url","nodeName","done","response","html","children","unwrap","fail","always","removeClass"],"mappings":";;AAAA;AACAA,EAAE,YAAW;;AAEX;AACAA,IAAE,cAAF,EAAkBC,MAAlB,CAAyB,UAAUC,KAAV,EAAkB;;AAEvC,QAAIC,YAAYH,EAAE,qBAAF,CAAhB;AACA;AACA;AACAG,cAAUC,QAAV,CAAmB,mBAAnB;;AAGAJ,MAAE,OAAF,EAAWK,IAAX,CAAgB,OAAhB,EAAyB,YAAW;AAChCL,QAAE,IAAF,EAAQM,UAAR,CAAmB,SAAnB;AACH,KAFD;;AAIAN,MAAE,WAAF,EAAeI,QAAf,CAAwB,QAAxB;;AAEA,QAAIG,MAAM,EAAV;AACAP,MAAE,YAAF,EAAgBQ,IAAhB,CAAqB,UAAUC,KAAV,EAAkB;AACrC,UAAIC,MAAMV,EAAE,gBAAeA,EAAG,IAAH,EAAUW,IAAV,CAAe,MAAf,CAAf,GAAwC,WAA1C,EAAuDD,GAAvD,EAAV;AACA,UAAIA,QAAQ,GAAZ,EAAiB;AACfH,YAAIK,IAAJ,CAASF,GAAT;AACD;AACF,KALD;;AAOAG,YAAQC,GAAR,CAAY,UAAZ,EAAwBP,IAAIQ,IAAJ,CAAS,GAAT,CAAxB;;AAEAF,YAAQC,GAAR,CAAY,WAAZ,EAAyBd,EAAE,YAAF,EAAgBgB,IAAhB,CAAqB,MAArB,CAAzB;;AAEA;AACA;AACAhB,MAAEiB,IAAF,CAAO;AACLC,WAAK,GADA;AAELF,YAAM;AACJG,kBAAUnB,EAAE,YAAF,EAAgBgB,IAAhB,CAAqB,MAArB,CADN;AAEJT,aAAKA,IAAIQ,IAAJ,CAAS,GAAT;AAFD;AAFD,KAAP,EAOGK,IAPH,CAOQ,UAAUC,QAAV,EAAqB;AACzB;AACArB,QAAE,YAAF,EAAgBsB,IAAhB,CAAqBD,QAArB,EAA+BE,QAA/B,GAA0CA,QAA1C,GAAqDC,MAArD;AACD,KAVH,EAWGC,IAXH,CAWQ,YAAW;AACfZ,cAAQC,GAAR,CAAa,OAAb;AACD,KAbH,EAcGY,MAdH,CAcU,YAAW;AACjB;AACAvB,gBAAUwB,WAAV,CAAsB,mBAAtB;AACD,KAjBH;;AAmBA,WAAO,KAAP;AAED,GAjDH;AAkDD,CArDD","file":"filterview.js","sourcesContent":["// Wait for the DOM to be ready\n$(function() {\n\n  // form restore\n  $('#filter-form').submit(function( event ) {\n\n      var submitBtn = $(\"#filter-form-submit\");\n      // submitBtn.attr('disabled', 'disabled');\n      // console.log('submitBtn', submitBtn);\n      submitBtn.addClass('button-submitting');\n\n\n      $('radio').bind('click', function() {\n          $(this).removeAttr('checked');\n      });\n\n      $('.noResult').addClass('hidden');\n\n      let cat = [];\n      $('.filterCat').each(function( index ) {\n        let val = $('input[name='+ $( this ).attr('name') + ']:checked').val();\n        if (val !== '*') {\n          cat.push(val);\n        }\n      });\n\n      console.log('--- CAT:', cat.join(','))\n\n      console.log('--- AJAX:', $('.ajax-list').data('list'));\n\n      // Assign handlers immediately after making the request,\n      // and remember the jqXHR object for this request\n      $.ajax({\n        url: '/',\n        data: {\n          nodeName: $('.ajax-list').data('list'),\n          cat: cat.join(','),\n        },\n      })\n        .done(function( response ) {\n          // .unwrap()\n          $('.ajax-list').html(response).children().children().unwrap();\n        })\n        .fail(function() {\n          console.log( \"error\" );\n        })\n        .always(function() {\n          // console.log( \"complete\" );\n          submitBtn.removeClass('button-submitting');\n        });\n\n      return false;\n\n    });\n});\n"]}